{"version":3,"sources":["../../../../assets/scripts/assets/scripts/start.js"],"names":["tiago","utils","isTT","init","appId","debug","then","console","log","catch","err","cc","Class","extends","Component","properties","start","onClickGetConfig","BUSINESS_SCENE","config","getConfig","currentScene","scene","LiveRoom","params","isAIRequired","Wonderland","onClickGetUserInfo","userinfo","getUserInfo","onClickStartSingleMatch","match","startSingleMatch","on","result","room","joinGameRoom","roomNum","joinRTCForGameRoom","error"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAIA,gBAAMC,KAAN,CAAYC,IAAZ,EAAJ,EAAwB;AACpBF,oBAAMG,IAAN,CAAW;AACPC,eAAO,oBADA;AAEPC,eAAO;AAFA,KAAX,EAGGC,IAHH,CAGQ,YAAM;AACVC,gBAAQC,GAAR,CAAY,qBAAZ;AACH,KALD,EAKGC,KALH,CAKS,eAAO;AACZF,gBAAQC,GAAR,CAAYE,GAAZ;AACA;AACH,KARD;AASH;;AAEDC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAMLC,SANK,mBAMI,CAER,CARI;AAULC,oBAVK,8BAUc;AAAA,YACPC,cADO,GACYlB,eADZ,CACPkB,cADO;;;AAGf,YAAMC,SAASnB,gBAAMoB,SAAN,EAAf;AACAb,gBAAQC,GAAR,CAAYW,MAAZ;;AAJe,YAMPE,YANO,GAMiBF,MANjB,CAMPE,YANO;AAAA,YAMOC,KANP,GAMiBH,MANjB,CAMOG,KANP;;;AAQf,YAAID,iBAAiBH,eAAeK,QAApC,EAA8C;AAC1C;AACA,gBAAMC,SAASF,MAAMD,YAAN,CAAf;;AAEA,gBAAIG,OAAOC,YAAX,EAAyB,CAExB;AADG;;;AAGJ;AACH,SATD,MASO,IAAIJ,iBAAiBH,eAAeQ,UAApC,EAAgD;AACnD;AACH;AACJ,KA9BI;AAgCLC,sBAhCK,gCAgCgB;AACjB,YAAMC,WAAW5B,gBAAM6B,WAAN,EAAjB;AACAtB,gBAAQC,GAAR,CAAYoB,QAAZ;AACH,KAnCI;AAqCLE,2BArCK,qCAqCqB;AACtB,YAAMC,QAAQ/B,gBAAMgC,gBAAN,EAAd;;AAEAD,cAAME,EAAN,CAAS,eAAT,EAA0B,kBAAU;AAChC;AACA1B,oBAAQC,GAAR,CAAY0B,MAAZ;AACH,SAHD;;AAKAH,cAAME,EAAN,CAAS,0BAAT,EAAqC,kBAAU;AAC3C1B,oBAAQC,GAAR,CAAY0B,MAAZ;;AAEA;AACA,gBAAMC,OAAOnC,gBAAMoC,YAAN,CAAmB;AAC5BC,yBAASH,OAAOG;AADY,aAAnB,CAAb;;AAIA;AACArC,4BAAMsC,kBAAN,CAAyBH,IAAzB;AACH,SAVD;;AAYAJ,cAAME,EAAN,CAAS,OAAT,EAAkB,iBAAS;AACvB1B,oBAAQC,GAAR,CAAY+B,KAAZ;AACH,SAFD;AAGH;AA5DI,CAAT","file":"start.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["import tiago from '@byted-creative/tiago';\n\nif (tiago.utils.isTT()) {\n    tiago.init({\n        appId: 'tt5e982825c1b2d9a3',\n        debug: true,\n    }).then(() => {\n        console.log('tiago init success.');\n    }).catch(err => {\n        console.log(err);\n        // NOTE: 一般情况不会出错，我们会对错误情况做监控，游戏可以处理一些异常情况下的表现\n    });\n}\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n\n    start () {\n        \n    },\n\n    onClickGetConfig() {\n        const { BUSINESS_SCENE } = tiago;\n\n        const config = tiago.getConfig();\n        console.log(config);\n\n        const { currentScene, scene } = config;\n\n        if (currentScene === BUSINESS_SCENE.LiveRoom) {\n            // 当前是直播场景\n            const params = scene[currentScene];\n\n            if (params.isAIRequired) {  \n                // NOTE: 补充 AI 逻辑\n            }\n            \n            // NOTE: 针对直播场景，调整使用直播专用的 UI，或处理其他特殊逻辑\n        } else if (currentScene === BUSINESS_SCENE.Wonderland) {\n            // 当前是 W 场景\n        }\n    },\n\n    onClickGetUserInfo() {\n        const userinfo = tiago.getUserInfo();\n        console.log(userinfo);\n    },\n\n    onClickStartSingleMatch() {\n        const match = tiago.startSingleMatch();\n\n        match.on('match-success', result => {\n            // 获得匹配成功后的用户信息\n            console.log(result);\n        });\n        \n        match.on('create-game-room-success', result => {\n            console.log(result);\n\n            // NOTE: 随后可以加入游戏房间\n            const room = tiago.joinGameRoom({\n                roomNum: result.roomNum,\n            });\n            \n            // NOTE: 加入房间连麦\n            tiago.joinRTCForGameRoom(room);\n        });\n        \n        match.on('error', error => {\n            console.log(error);\n        });\n    },\n});"]}